{"version":3,"sources":["pages/ExampleList1/ExampleList1.module.less","pages/ExampleList1/ExampleList1.context.js","pages/ExampleList1/ListTable.jsx","pages/ExampleList1/ListItemModal.jsx","pages/ExampleList1/SearchConiMod.jsx","pages/ExampleList1/index.jsx"],"names":["CounterContext1","createContext","ListTable","useContext","setIsModalVisible","listdata","searchList","setActiveItemData","delItem","record","a","axios","get","params","primaryId","columns","title","dataIndex","key","render","text","size","type","onClick","console","log","JSON","parse","stringify","showModal","onConfirm","dataSource","rowKey","userId","ListItemModal","Form","useForm","form","isModalVisible","sexOptions","activeItemData","editUserItem","handleCancel","visible","onOk","validateFields","then","values","resetFields","formData","FormData","append","userName","nickName","sex","catch","info","onCancel","okText","cancelText","name","labelCol","span","wrapperCol","initialValues","Item","label","style","width","SearchConiMod","layout","remember","onFinish","offset","htmlType","Option","Select","value","map","d","ExampleList1","useState","setListdata","useCallback","res","data","useEffect","BaseLayout","Provider","className","styles","mt10"],"mappings":"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","file":"static/js/router-ExampleList1.32ac5c6d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ExampleList1.module.09afb500.less\";","import { createContext } from 'react'\r\nconst CounterContext1 = createContext(null);\r\n\r\nexport default CounterContext1","import  {  useContext } from 'react'\r\nimport { Table, Space, Popconfirm, Button } from 'antd'\r\nimport axios from 'axios'\r\nimport CounterContext1 from './ExampleList1.context.js'\r\n\r\n\r\n//列表\r\nconst ListTable = () => {\r\n\tconst {setIsModalVisible, listdata, searchList, setActiveItemData} = useContext(CounterContext1);\r\n\t// 编辑\r\n\tconst showModal = (record) => {\r\n\t\tconsole.log(JSON.parse(JSON.stringify(record)));\r\n\t\tsetActiveItemData(JSON.parse(JSON.stringify(record)));\r\n\t\tsetIsModalVisible(true);\r\n\t};\r\n\t// 删除\r\n\tconst delItem = async (record) => {\r\n\t\tawait axios.get('/moddata/user/delUserItem.json', {\r\n\t\t\tparams: {\r\n\t\t\t\tprimaryId: record.primaryId,\r\n\t\t\t}\r\n\t\t});\r\n\t\tsearchList();\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: '用户编号',\r\n\t\t\tdataIndex: 'userId',\r\n\t\t\tkey: 'userId',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '用户名',\r\n\t\t\tdataIndex: 'userName',\r\n\t\t\tkey: 'userName',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '昵称',\r\n\t\t\tdataIndex: 'nickName',\r\n\t\t\tkey: 'nickName',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '性别',\r\n\t\t\tdataIndex: 'sex',\r\n\t\t\tkey: 'sex',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '操作',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (text, record) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button type=\"link\" onClick={() => showModal(record)}>编辑</Button>\r\n\t\t\t\t\t<Popconfirm title=\"是否确认删除?\" onConfirm={() => delItem(record)}><Button type=\"link\">删除</Button></Popconfirm>\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (<Table columns={columns} dataSource={listdata} rowKey={record=>record.userId} />);\r\n};\r\n\r\nexport default ListTable;","import { useContext } from 'react'\r\nimport { Form, Input, Select, Modal } from 'antd'\r\nimport CounterContext1 from './ExampleList1.context.js'\r\nimport axios from 'axios'\r\n\r\nconst ListItemModal = () => {\r\n\tconst [form] = Form.useForm();\r\n\tconst { isModalVisible, setIsModalVisible, sexOptions, activeItemData, searchList } = useContext(CounterContext1);\r\n\r\n\tconst handleOk = () => {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tform.resetFields();\r\n\t\t\tvar formData = new FormData();\r\n\t\t\tformData.append('primaryId', activeItemData.primaryId);\r\n\t\t\tformData.append('userId', values.userId);\r\n\t\t\tformData.append('userName', values.userName);\r\n\t\t\tformData.append('nickName', values.nickName);\r\n\t\t\tformData.append('sex', values.sex);\r\n\t\t\teditUserItem(formData);\r\n\t\t}).catch((info) => {\r\n\t\t\tconsole.log('Validate Failed:', info);\r\n\t\t});\r\n\t};\r\n\r\n\t// 编辑\r\n\tconst editUserItem = async (params) => {\r\n\t\tawait axios.get('/moddata/user/editUserItem.json', params);\r\n\t\thandleCancel();\r\n\t\tsearchList();\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false);\r\n\t};\r\n\r\n\t//form.resetFields(activeItemData);\r\n\r\n  return (\r\n    <div>\r\n\t\t<Modal title=\"编辑\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} okText=\"确认\" cancelText=\"取消\">\r\n\t\t\t<Form\r\n\t\t\t\tname=\"basic\"\r\n\t\t\t\tform={form}\r\n\t\t\t\tlabelCol={{ span: 4 }}\r\n\t\t\t\twrapperCol={{ span: 20 }}\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tuserId: activeItemData.userId,\r\n\t\t\t\t\tuserName: activeItemData.userName,\r\n\t\t\t\t\tnickName: activeItemData.nickName,\r\n\t\t\t\t\tsex: activeItemData.sex,\r\n\t\t\t\t}}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"用户编号\"\r\n\t\t\t\t\tname=\"userId\">\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"用户名\"\r\n\t\t\t\t\tname=\"userName\">\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"昵称\"\r\n\t\t\t\t\tname=\"nickName\">\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"性别\"\r\n\t\t\t\t\tname=\"sex\">\r\n\t\t\t\t\t<Select style={{ width: '100%' }}>\r\n\t\t\t\t\t\t{sexOptions}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListItemModal;","import { useContext } from 'react'\r\nimport { Form, Input, Button, Select } from 'antd'\r\nimport CounterContext1 from './ExampleList1.context.js';\r\n\r\n\r\n\r\n//查询条件\r\nconst SearchConiMod = () => {\r\n\tconst { sexOptions, searchList } = useContext(CounterContext1);\r\n\tconst onFinish = (values: any) => {\r\n\t\tsearchList(values);\r\n\t};\r\n\r\n\treturn (\r\n\t<Form\r\n\t\tname=\"basic\"\r\n\t\tlayout=\"inline\"\r\n\t\tinitialValues={{ remember: true }}\r\n\t\tonFinish={onFinish}\r\n\t\t>\r\n\t\t<Form.Item\r\n\t\t\tlabel=\"用户编号\"\r\n\t\t\tname=\"username\">\r\n\t\t\t<Input />\r\n\t\t</Form.Item>\r\n\t\t<Form.Item\r\n\t\t\tlabel=\"用户名\"\r\n\t\t\tname=\"username\">\r\n\t\t\t<Input />\r\n\t\t</Form.Item>\r\n\t\t<Form.Item\r\n\t\t\tlabel=\"昵称\"\r\n\t\t\tname=\"username\">\r\n\t\t\t<Input />\r\n\t\t</Form.Item>\r\n\t\t<Form.Item\r\n\t\t\tlabel=\"性别\"\r\n\t\t\tname=\"sex\">\r\n\t\t\t<Select style={{ width: 70 }}>\r\n\t\t\t\t{sexOptions}\r\n\t\t\t</Select>\r\n\t\t</Form.Item>\r\n\r\n\t\t<Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n\t\t\t<Button type=\"primary\" htmlType=\"submit\">查询</Button>\r\n\t\t</Form.Item>\r\n\t</Form>\r\n\t);\r\n};\r\n\r\nexport default SearchConiMod;","import { useState, useCallback, useEffect } from 'react'\r\nimport { Select } from 'antd'\r\nimport axios from 'axios'\r\nimport styles from './ExampleList1.module.less'\r\nimport BaseLayout from '../../layouts/BaseLayout/BaseLayout.jsx'\r\nimport CounterContext1 from './ExampleList1.context.js'\r\n\r\nimport ListTable from './ListTable.jsx'\r\nimport ListItemModal from './ListItemModal.jsx'\r\nimport SearchConiMod from './SearchConiMod.jsx'\r\n\r\nconst { Option } = Select;\r\n\r\n//字典-性别\r\nconst sexDic = [{\r\n\tvalue: \"1\",\r\n\ttext: \"男\",\r\n},{\r\n\tvalue: \"2\",\r\n\ttext: \"女\",\r\n}];\r\nconst sexOptions = sexDic.map(d => <Option key={d.value}>{d.text}</Option>);\r\n\r\n\r\nconst ExampleList1 = () => {\r\n\t//编辑弹窗显隐\r\n\tconst [ isModalVisible, setIsModalVisible ] = useState(false);\r\n\t//编辑时单个值\r\n\tconst [ activeItemData, setActiveItemData ] = useState({});\r\n\t//列表数据\r\n\tconst [ listdata, setListdata ] = useState([]);\r\n\r\n\t// 执行查询\r\n\tconst searchList = useCallback(async () => {\r\n\t\tconsole.log('setListdata', 11);\r\n\t\ttry {\r\n\t\t\t//const data = await axios.get('./user/queryUserList.do');\r\n\t\t\tconst res = await axios.get('/moddata/user/queryUserList.json');\r\n\t\t\tconsole.log('data', res.data.data);\r\n\t\t\tsetListdata(res.data.data);\r\n\t\t}  catch(e) {\r\n\t\t\treturn e\r\n\t\t}\r\n\t}, []);\r\n\t//只会触发一次\r\n\tuseEffect(() => {\r\n\t\tsearchList();\r\n\t}, [searchList])\r\n\t\r\n\treturn (\r\n\t\t<BaseLayout>\r\n\t\t\t<CounterContext1.Provider value={{ isModalVisible, setIsModalVisible, sexOptions, searchList, listdata, setListdata, activeItemData, setActiveItemData }}>\r\n\t\t\t    <div className='pageContainer'>\r\n\t\t\t\t    <SearchConiMod></SearchConiMod>\r\n\t\t\t\t\t<ListTable className={styles.mt10}></ListTable>\r\n\t\t\t\t\t<ListItemModal></ListItemModal>\r\n\t\t\t    </div>\t\t\t\t\r\n\t\t\t</CounterContext1.Provider>\r\n\t\t</BaseLayout>\r\n\t);\r\n};\r\n\r\nexport default ExampleList1;\r\n"],"sourceRoot":""}