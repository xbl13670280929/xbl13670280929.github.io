{"version":3,"sources":["pages/ExampleList1/ExampleList1.context.js","pages/ExampleList1/ListTable.jsx","pages/ExampleList1/ListItemModal.jsx","pages/ExampleList1/SearchConiMod.jsx","pages/ExampleList1/index.jsx"],"names":["CounterContext1","createContext","ListTable","useContext","setIsModalVisible","listdata","searchList","setActiveItemData","delItem","record","a","axios","get","params","primaryId","columns","title","dataIndex","key","render","text","sex","size","type","onClick","console","log","JSON","parse","stringify","showModal","onConfirm","dataSource","rowKey","userId","className","ListItemModal","Form","useForm","form","isModalVisible","sexOptions","activeItemData","editUserItem","handleCancel","visible","onOk","validateFields","then","values","resetFields","formData","FormData","append","userName","nickName","catch","info","onCancel","okText","cancelText","name","labelCol","span","wrapperCol","initialValues","Item","label","rules","required","message","style","width","SearchConiMod","layout","remember","onFinish","offset","htmlType","Option","Select","value","map","d","ExampleList1","useState","setListdata","useCallback","res","data","useEffect","BaseLayout","Provider"],"mappings":"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","file":"static/js/router-ExampleList1.6577f0de.chunk.js","sourcesContent":["import { createContext } from 'react'\r\nconst CounterContext1 = createContext(null);\r\n\r\nexport default CounterContext1","import  {  useContext } from 'react'\r\nimport { Table, Space, Popconfirm, Button } from 'antd'\r\nimport axios from 'axios'\r\nimport CounterContext1 from './ExampleList1.context.js'\r\n\r\n\r\n//列表\r\nconst ListTable = () => {\r\n\tconst {setIsModalVisible, listdata, searchList, setActiveItemData} = useContext(CounterContext1);\r\n\t// 编辑\r\n\tconst showModal = (record) => {\r\n\t\tconsole.log(JSON.parse(JSON.stringify(record)));\r\n\t\tsetActiveItemData(JSON.parse(JSON.stringify(record)));\r\n\t\tsetIsModalVisible(true);\r\n\t};\r\n\t// 删除\r\n\tconst delItem = async (record) => {\r\n\t\tawait axios.get('/moddata/user/delUserItem.json', {\r\n\t\t\tparams: {\r\n\t\t\t\tprimaryId: record.primaryId,\r\n\t\t\t}\r\n\t\t});\r\n\t\tsearchList();\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: '用户编号',\r\n\t\t\tdataIndex: 'userId',\r\n\t\t\tkey: 'userId',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '用户名',\r\n\t\t\tdataIndex: 'userName',\r\n\t\t\tkey: 'userName',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '昵称',\r\n\t\t\tdataIndex: 'nickName',\r\n\t\t\tkey: 'nickName',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '性别',\r\n\t\t\tdataIndex: 'sex',\r\n\t\t\tkey: 'sex',\r\n\t\t\trender: (text, record) => (\r\n\t\t\t\trecord.sex === '1' ? '男':'女'\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '操作',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (text, record) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button type=\"link\" onClick={() => showModal(record)}>编辑</Button>\r\n\t\t\t\t\t<Popconfirm title=\"是否确认删除?\" onConfirm={() => delItem(record)}><Button type=\"link\">删除</Button></Popconfirm>\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (<Table columns={columns} dataSource={listdata} rowKey={record=>record.userId} className=\"mt20\" />);\r\n};\r\n\r\nexport default ListTable;","import { useContext } from 'react'\r\nimport { Form, Input, Select, Modal } from 'antd'\r\nimport CounterContext1 from './ExampleList1.context.js'\r\nimport axios from 'axios'\r\n\r\nconst ListItemModal = () => {\r\n\tconst [form] = Form.useForm();\r\n\tconst { isModalVisible, setIsModalVisible, sexOptions, activeItemData, searchList } = useContext(CounterContext1);\r\n\r\n\tconst handleOk = () => {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tform.resetFields();\r\n\t\t\tvar formData = new FormData();\r\n\t\t\tformData.append('primaryId', activeItemData.primaryId);\r\n\t\t\tformData.append('userId', values.userId);\r\n\t\t\tformData.append('userName', values.userName);\r\n\t\t\tformData.append('nickName', values.nickName);\r\n\t\t\tformData.append('sex', values.sex);\r\n\t\t\teditUserItem(formData);\r\n\t\t}).catch((info) => {\r\n\t\t\tconsole.log('Validate Failed:', info);\r\n\t\t});\r\n\t};\r\n\r\n\t// 编辑\r\n\tconst editUserItem = async (params) => {\r\n\t\tawait axios.get('/moddata/user/editUserItem.json', params);\r\n\t\thandleCancel();\r\n\t\tsearchList();\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false);\r\n\t};\r\n\r\n\t//form.resetFields(activeItemData);\r\n\r\n  return (\r\n    <div>\r\n\t\t<Modal title=\"编辑\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} okText=\"确认\" cancelText=\"取消\">\r\n\t\t\t<Form\r\n\t\t\t\tname=\"basic\"\r\n\t\t\t\tform={form}\r\n\t\t\t\tlabelCol={{ span: 4 }}\r\n\t\t\t\twrapperCol={{ span: 20 }}\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tuserId: activeItemData.userId,\r\n\t\t\t\t\tuserName: activeItemData.userName,\r\n\t\t\t\t\tnickName: activeItemData.nickName,\r\n\t\t\t\t\tsex: activeItemData.sex,\r\n\t\t\t\t}}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"用户编号\"\r\n\t\t\t\t\trules={[{ required: true, message: '用户编号不能为空!' }]}\r\n\t\t\t\t\tname=\"userId\">\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"用户名\"\r\n\t\t\t\t\trules={[{ required: true, message: '用户名不能为空!' }]}\r\n\t\t\t\t\tname=\"userName\">\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"昵称\"\r\n\t\t\t\t\tname=\"nickName\">\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"性别\"\r\n\t\t\t\t\tname=\"sex\">\r\n\t\t\t\t\t<Select style={{ width: '100%' }}>\r\n\t\t\t\t\t\t{sexOptions}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListItemModal;","import { useContext } from 'react'\r\nimport { Form, Input, Button, Select } from 'antd'\r\nimport CounterContext1 from './ExampleList1.context.js';\r\n\r\n\r\n\r\n//查询条件\r\nconst SearchConiMod = () => {\r\n\tconst { sexOptions, searchList } = useContext(CounterContext1);\r\n\tconst onFinish = (values: any) => {\r\n\t\tsearchList(values);\r\n\t};\r\n\r\n\treturn (\r\n\t<Form\r\n\t\tname=\"basic\"\r\n\t\tlayout=\"inline\"\r\n\t\tinitialValues={{ remember: true }}\r\n\t\tonFinish={onFinish}\r\n\t\t>\r\n\t\t<Form.Item\r\n\t\t\tlabel=\"用户编号\"\r\n\t\t\tname=\"username\">\r\n\t\t\t<Input />\r\n\t\t</Form.Item>\r\n\t\t<Form.Item\r\n\t\t\tlabel=\"用户名\"\r\n\t\t\tname=\"username\">\r\n\t\t\t<Input />\r\n\t\t</Form.Item>\r\n\t\t<Form.Item\r\n\t\t\tlabel=\"昵称\"\r\n\t\t\tname=\"username\">\r\n\t\t\t<Input />\r\n\t\t</Form.Item>\r\n\t\t<Form.Item\r\n\t\t\tlabel=\"性别\"\r\n\t\t\tname=\"sex\">\r\n\t\t\t<Select style={{ width: 70 }}>\r\n\t\t\t\t{sexOptions}\r\n\t\t\t</Select>\r\n\t\t</Form.Item>\r\n\r\n\t\t<Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n\t\t\t<Button type=\"primary\" htmlType=\"submit\">查询</Button>\r\n\t\t</Form.Item>\r\n\t</Form>\r\n\t);\r\n};\r\n\r\nexport default SearchConiMod;","import { useState, useCallback, useEffect } from 'react'\r\nimport { Select } from 'antd'\r\nimport axios from 'axios'\r\nimport './ExampleList1.css'\r\nimport BaseLayout from '../../layouts/BaseLayout/BaseLayout.jsx'\r\nimport CounterContext1 from './ExampleList1.context.js'\r\n\r\nimport ListTable from './ListTable.jsx'\r\nimport ListItemModal from './ListItemModal.jsx'\r\nimport SearchConiMod from './SearchConiMod.jsx'\r\n\r\nconst { Option } = Select;\r\n\r\n//字典-性别\r\nconst sexDic = [{\r\n\tvalue: \"1\",\r\n\ttext: \"男\",\r\n},{\r\n\tvalue: \"2\",\r\n\ttext: \"女\",\r\n}];\r\nconst sexOptions = sexDic.map(d => <Option key={d.value}>{d.text}</Option>);\r\n\r\n\r\nconst ExampleList1 = () => {\r\n\t//编辑弹窗显隐\r\n\tconst [ isModalVisible, setIsModalVisible ] = useState(false);\r\n\t//编辑时单个值\r\n\tconst [ activeItemData, setActiveItemData ] = useState({});\r\n\t//列表数据\r\n\tconst [ listdata, setListdata ] = useState([]);\r\n\r\n\t// 执行查询\r\n\tconst searchList = useCallback(async () => {\r\n\t\ttry {\r\n\t\t\t//const data = await axios.get('./user/queryUserList.do');\r\n\t\t\tconst res = await axios.get('/moddata/user/queryUserList.json');\r\n\t\t\tsetListdata(res.data.data);\r\n\t\t}  catch(e) {\r\n\t\t\treturn e\r\n\t\t}\r\n\t}, []);\r\n\t//只会触发一次\r\n\tuseEffect(() => {\r\n\t\tsearchList();\r\n\t}, [searchList])\r\n\t\r\n\treturn (\r\n\t\t<BaseLayout>\r\n\t\t\t<CounterContext1.Provider value={{ isModalVisible, setIsModalVisible, sexOptions, searchList, listdata, setListdata, activeItemData, setActiveItemData }}>\r\n\t\t\t    <div className='pageContainer view-ExampleList1'>\r\n\t\t\t\t    <SearchConiMod></SearchConiMod>\r\n\t\t\t\t\t<ListTable></ListTable>\r\n\t\t\t\t\t<ListItemModal></ListItemModal>\r\n\t\t\t    </div>\t\t\t\t\r\n\t\t\t</CounterContext1.Provider>\r\n\t\t</BaseLayout>\r\n\t);\r\n};\r\n\r\nexport default ExampleList1;\r\n"],"sourceRoot":""}